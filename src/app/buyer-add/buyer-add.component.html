<mat-card>
    <form [formGroup]="addCustomer" (ngSubmit)="onSubmit()">

        <mat-toolbar>
            <button class="ml-1" mat-stroked-button type="submit">
                ثبت<mat-icon matSuffix>check_small</mat-icon>
            </button>
            <a mat-stroked-button [routerLink]="'/dashboard'">
                بازگشت<mat-icon matSuffix>keyboard_return</mat-icon></a>
        </mat-toolbar>

        <mat-divider></mat-divider>
        <div class="grid grid-cols-3 grid-rows-4 gap-3 px-8 my-5">
            <div>
                <mat-form-field class='w-full'>
                    <mat-label>نوع مشتری:</mat-label>
                    <mat-select required formControlName="type">
                        <mat-option *ngFor="let option of filteredOptions | async" [value]="option.id">
                            {{ option.name }}
                        </mat-option>
                    </mat-select>
                </mat-form-field>

            </div>

            <!--name-->
            <div *ngIf="selectedType !== 2">
                <mat-form-field class="w-full">
                    <mat-label class="text-sm "> نام</mat-label>
                    <input matInput formControlName="name" placeholder="نام را وارد کنید"
                        class="placeholder:text-sm placeholder:text-black" required />
                    <mat-icon matSuffix>title</mat-icon>
                    <mat-error
                        *ngIf="addCustomer.get('name')?.hasError('required') && addCustomer.get('name')?.invalid && addCustomer.get('name')?.touched">
                        این فیلد باید تکمیل شود.
                    </mat-error>
                    <!-- <div *ngIf="addCustomer.get('name')?.invalid && addCustomer.get('name')?.touched"
                        class="relative mr-6 text-xs text-red-600 bottom-4">
                        <mat-error *ngIf="addCustomer.get('name')?.hasError('required') && addCustomer.get('name')?.invalid && addCustomer.get('name')?.touched">نام الزامی است</mat-error>
                    </div> -->
                </mat-form-field>
            </div>

            <!--brandname-->
            <div *ngIf="selectedType === 2">
                <mat-form-field class="w-full">
                    <mat-label class="text-sm">نام تجاری مشتری</mat-label>
                    <input matInput formControlName="brandName" placeholder="نام تجاری مشتری را وارد کنید"
                        class="placeholder:text-sm placeholder:text-black" required />
                    <mat-icon matSuffix>title</mat-icon>
                    <mat-error
                        *ngIf="addCustomer.get('brandName')?.hasError('required') && addCustomer.get('brandName')?.invalid && addCustomer.get('brandName')?.touched">
                        این فیلد باید تکمیل شود.
                    </mat-error>
                    <!-- <div *ngIf="addCustomer.get('brandName')?.invalid && addCustomer.get('brandName')?.touched"
                        class="relative mr-6 text-xs text-red-600 bottom-4">
                        <mat-error *ngIf="addCustomer.get('brandName')?.hasError('required')">نام تجاری مشتری الزامی
                            است</mat-error>
                    </div> -->
                </mat-form-field>
            </div>

            <!--economicNumber-->
            <div>
                <mat-form-field class='w-full'>
                    <mat-label class="mb-2 text-sm">کد اقتصادی</mat-label>
                    <input matInput type="number" formControlName="economicNumber" placeholder="کد اقتصادی را وارد کنید"
                        class="placeholder:text-sm placeholder:text-black" required />
                    <mat-icon matSuffix>pin</mat-icon>
                    <mat-error *ngIf="addCustomer.get('economicNumber')?.hasError('required')">
                        این فیلد باید تکمیل شود.
                    </mat-error>
                </mat-form-field>
            </div>

            <!--nationalId-->
            <div *ngIf="selectedType !== 4 && selectedType!==2">
                <mat-form-field class="w-full">
                    <mat-label class="ext-sm ">کد ملی</mat-label>
                    <input matInput type="number" formControlName="nationalId" placeholder="کد ملی را وارد کنید"
                        class="placeholder:text-sm placeholder:text-black" required />
                    <mat-icon matSuffix>pin</mat-icon>
                    <mat-error
                        *ngIf="addCustomer.get('nationalId')?.hasError('required') && addCustomer.get('nationalId')?.invalid && addCustomer.get('nationalId')?.touched">
                        این فیلد باید تکمیل شود.
                    </mat-error>
                    <!-- 
                    <div *ngIf="addCustomer.get('nationalId')?.invalid && addCustomer.get('nationalId')?.touched"
                        class="relative mr-6 text-xs text-red-600 bottom-4">
                        <mat-error *ngIf="addCustomer.get('nationalId')?.hasError('required')">کد ملی الزامی است</mat-error>
                    </div> -->
                </mat-form-field>
            </div>

            <!--کد اتباع-->
            <div *ngIf="selectedType === 4" class="flex flex-col justify-center mb-5">
                <mat-form-field class="w-full">
                    <mat-label>کد اتباع:</mat-label>
                    <input matInput formControlName="nationalId" required placeholder="کد اتباع را وارد کنید" />
                    <mat-error
                        *ngIf="addCustomer.get('nationalId')?.hasError('required') && addCustomer.get('nationalId')?.invalid && addCustomer.get('nationalId')?.touched">
                        این فیلد باید تکمیل شود.
                    </mat-error>
                    <!-- <div *ngIf="addCustomer.get('nationalId')?.invalid && addCustomer.get('nationalId')?.touched"
                        class="relative mr-6 text-xs text-red-600 bottom-4">
                        <span *ngIf="addCustomer.get('nationalId')?.hasError('required')">کد اتباعلزامی است</span>
                    </div> -->
                </mat-form-field>
            </div>

            <!--moblie-->
            <div>
                <mat-form-field class='w-full'>
                    <mat-label class="mb-2 text-sm">تلفن همراه</mat-label>
                    <div class="flex flex-row items-center justify-center">
                        <input matInput type="number" formControlName="moblie" placeholder="تلفن را وارد کنید"
                            class="placeholder:text-sm placeholder:text-black" />
                        <mat-icon matSuffix>call</mat-icon>
                    </div>

                    <!-- <div *ngIf="isFieldInvalid('moblie')" class="relative mr-6 text-xs text-red-600 bottom-4">
                        این فیلد باید تکمیل شود.
                    </div> -->
                </mat-form-field>
            </div>

            <!--branchPostalCode-->
            <div>
                <mat-form-field class='w-full'>
                    <mat-label class="mb-2 text-sm">کد پستی </mat-label>

                    <div class="flex flex-row items-center justify-center">
                        <input matInput type="number" formControlName="branchPostalCode"
                            placeholder="کد پستی را وارد کنید" class="placeholder:text-sm placeholder:text-black" />
                        <mat-icon matSuffix>local_post_office</mat-icon>
                    </div>

                    <div *ngIf="isFieldInvalid('branchPostalCode')" class="relative mr-6 text-xs text-red-600 bottom-4">
                        این فیلد باید تکمیل شود.
                    </div>
                </mat-form-field>
            </div>

            <!--branchCountry-->
            <div>
                <mat-form-field class='w-full'>
                    <mat-label class="mb-2 text-sm">کشور</mat-label>
                    <div class="flex flex-row items-center justify-center">
                        <input matInput formControlName="branchCountry" placeholder="کشور را وارد کنید"
                            class="placeholder:text-sm placeholder:text-black" />
                        <mat-icon matSuffix>location_on</mat-icon>
                    </div>
                </mat-form-field>
            </div>

            <!--branchProvince-->
            <div>
                <mat-form-field class='w-full'>
                    <mat-label class="mb-2 text-sm">شهر</mat-label>
                    <div class="flex flex-row items-center justify-center">
                        <input matInput formControlName="branchProvince" placeholder="شهر را وارد کنید"
                            class="placeholder:text-sm placeholder:text-black" />
                        <mat-icon matSuffix>location_on</mat-icon>
                    </div>
                </mat-form-field>
            </div>

            <!--branchCity-->
            <div>
                <mat-form-field class='w-full'>
                    <mat-label class="mb-2 text-sm">استان</mat-label>
                    <div class="flex flex-row items-center justify-center">
                        <input matInput formControlName="branchCity" placeholder="استان را وارد کنید"
                            class="placeholder:text-sm placeholder:text-black" />
                        <mat-icon matSuffix>location_on</mat-icon>
                    </div>
                </mat-form-field>
            </div>

            <!--branchAddress-->
            <div>
                <mat-form-field class='w-full'>
                    <mat-label class="mb-2 text-sm">آدرس</mat-label>
                    <div class="flex flex-row items-center justify-center">
                        <input matInput formControlName="branchAddress" placeholder="آدرس را وارد کنید"
                            class="placeholder:text-sm placeholder:text-black" />
                        <mat-icon matSuffix>location_on</mat-icon>
                    </div>
                </mat-form-field>
            </div>

            <!--branchCode-->
            <div>
                <mat-form-field class='w-full'>
                    <mat-label class="mb-2 text-sm">کد شعبه </mat-label>
                    <input matInput placeholder="کد شعبه را وارد کنید"
                        class="placeholder:text-sm placeholder:text-black" type="number" formControlName="branchCode"
                        required />
                    <mat-icon matSuffix>pin</mat-icon>
                    <mat-error *ngIf="addCustomer.get('branchCode')?.hasError('required')">
                        این فیلد باید تکمیل شود.
                    </mat-error>
                </mat-form-field>
            </div>

            <!--branchName-->
            <div>
                <mat-form-field class='w-full'>
                    <mat-label class="mb-2 text-sm">نام شعبه </mat-label>
                    <input matInput placeholder="نام شعبه  را وارد کنید" required
                        class="placeholder:text-sm placeholder:text-black" formControlName="branchName" />
                    <mat-icon matSuffix>title</mat-icon>
                    <mat-error *ngIf="addCustomer.get('branchName')?.hasError('required')">
                        این فیلد باید تکمیل شود.
                    </mat-error>
                </mat-form-field>
            </div>

            <!--isMainBranch-->
            <section class="example-section">
                <mat-checkbox class="example-margin" formControlName='isMainBranch' [disabled]="false">
                    شعبه مرکزی
                </mat-checkbox>
            </section>
        </div>
    </form>
</mat-card>